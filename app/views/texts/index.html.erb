<div class="container">

	<h1 id="main-title-page" align="center">ğŸ“• Browse all articles</h1>


	<div class="choose-text">
		<%= form_for(:article, html: {role: "form", id: "upload-modal-form"}, url: filter_path) do |f| %>

		
		<%= label_tag(:language, "ğŸŒ Language" , class: "filter-article-label") %>
		<%= select_tag(:language, raw('
			<option value="spanish">ğŸ‡ªğŸ‡¸ Spanish</option>
			<option value="french">ğŸ‡«ğŸ‡· French</option>
			<option value="japanese">ğŸ‡¯ğŸ‡µ Japanese</option>
			<option value="chinese">ğŸ‡¨ğŸ‡³ Chinese</option>
			<option value="korean">ğŸ‡°ğŸ‡· Korean</option>
			<option value="german">ğŸ‡©ğŸ‡ª German</option>
			<option value="italian">ğŸ‡®ğŸ‡¹ Italian</option>
			<option value="russian">ğŸ‡·ğŸ‡º Russian</option>
			<option value="portuguese">ğŸ‡µğŸ‡¹ Portuguese</option>
			<option value="hindi">ğŸ‡®ğŸ‡³ Hindi</option>
			<option value="dutch">ğŸ‡³ğŸ‡± Dutch</option>
			<option value="turkish">ğŸ‡¹ğŸ‡· Turkish</option>
			<option value="polish">ğŸ‡µğŸ‡± Polish</option>
			'), class: "form-control filter-articles") %>


			<%= label_tag(:difficulty, "ğŸ’ª Difficulty", class: "filter-article-label") %>
			<%= select_tag(:difficulty, raw('
				<option value="1">ğŸ˜ Beginner</option>
				<option value="2">ğŸƒâ€â™‚ï¸ Upper Beginner</option>
				<option value="3">ğŸ‘¨â€ğŸ“ Intermediate</option>
				<option value="4">ğŸ‹ï¸â€â™‚ï¸ Upper Intermediate</option>
				<option value="5">ğŸ”¥ Advanced</option>
				'), class: "form-control filter-articles") %>


				<%= f.button "Search", class: "btn btn-primary miner-button full-width" %>


				<% end %>
			</div>

			<p align="center" class="search-results">
				<% 

				def difficulty_to_string(difficulty_int)
					case difficulty_int
					when 1
						return "beginner"
					when 2
						return "upper beginner"
					when 3
						return "intermediate"
					when 4
						return "upper intermediate"
					when 5
						return "advanced"
					else
						return difficulty_int.to_s
					end
				end 

				%>

				<% if @articles.count == 0 %>

				We don't have any <b class="highlighted"><%= difficulty_to_string(params[:difficulty].to_i) %></b> articles in <b class="highlighted"><%= params[:language] %></b>. 
				<a href="#" class="link-miner" data-toggle="modal" data-target="#uploadArticleModal">
						Create one now.
					</a>

				<% else %>

				ğŸ” We found <%= @articles.count %> <b class="highlighted"><%= difficulty_to_string(@articles.first.difficulty) %></b> articles in <b class="highlighted"><%= @articles.first.language.capitalize %></b>

				<% end %>
			</p>
			<%= render @articles %>



		</div>